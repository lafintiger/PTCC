# Document Analysis Tutorial

This tutorial explains how to use the Document Analysis feature in PenTest Command Center to extract valuable intelligence from technical documentation during penetration testing engagements.

## Introduction

During penetration testing, you often encounter various technical documents such as network diagrams, system documentation, credentials lists, and other artifacts that contain valuable information. The Document Analysis feature helps you extract and analyze this information automatically using OCR (Optical Character Recognition) and AI analysis.

## Prerequisites

Before using this feature, ensure you have:

1. Installed Tesseract OCR on your system
2. Installed the required Python packages (pytesseract, Pillow, PyMuPDF)
3. Set up an Ollama model for AI analysis

## Uploading Documents

1. Navigate to the **Document Analysis** tab in the PenTest Command Center
2. Select the **Upload Document** sub-tab
3. Fill in the following information:
   - **Document Name**: A descriptive name for the document
   - **Document Type**: Select the type that best matches your document:
     - `network_diagram` - For network topology diagrams
     - `credentials` - For documents containing credentials
     - `system_documentation` - For system specifications and documentation
     - `vulnerability_report` - For previous vulnerability assessments
     - `other` - For other technical documents
   - **Description**: Optional description of the document
   - **Tags**: Optional comma-separated tags for categorization
4. Click "Choose File" and select your document (JPG, PNG, or PDF)
5. Click "Upload & Analyze"

The system will:
- Save the document to the documents directory
- Extract text using OCR (for images) or PDF text extraction
- Analyze the content using AI
- Display the analysis results

## Managing Documents

The **Manage Documents** sub-tab allows you to:

1. **Search Documents**:
   - Enter search terms to find specific documents
   - Filter by document type
   - Filter by tags

2. **Perform Actions**:
   - View document details
   - Re-analyze documents with AI
   - Delete documents

To use:
1. Enter search terms or select filters
2. Click "Search/Filter"
3. Select a document from the results
4. Choose an action (View Details, Re-Analyze, Delete)
5. Click "Apply Action"

## Document Intelligence

The most powerful feature is the ability to query your document collection using natural language:

1. Navigate to the **Document Intelligence** sub-tab
2. Enter a natural language query, such as:
   - "What IP addresses are mentioned in the network diagrams?"
   - "List all servers in the DMZ according to the documentation"
   - "What credentials are stored in the uploaded documents?"
   - "Identify potential security issues mentioned in the documentation"
3. Click "Query Documents"

The AI will:
- Search across all documents in your collection
- Extract relevant information from document text and previous analyses
- Provide a comprehensive answer with references to specific documents

## Use Cases

### Network Diagram Analysis

Upload network diagrams to automatically:
- Identify network segments and address ranges
- Extract hostnames and IP addresses
- Discover network devices (routers, firewalls, etc.)
- Identify potential security issues in the network design

### Credentials Extraction

Upload documents containing credentials to:
- Identify user accounts and passwords
- Extract API keys and access tokens
- Identify storage locations of sensitive information
- Analyze security implications of the credentials storage

### System Documentation Review

Upload system documentation to:
- Identify technologies and versions in use
- Extract configuration details
- Discover potential misconfigurations
- Find outdated systems or components

## Tips for Best Results

1. **High-Quality Images**: For best OCR results, ensure images are high-resolution and clear
2. **Select the Correct Document Type**: This helps the AI analyze the content appropriately
3. **Use Specific Queries**: When using Document Intelligence, be specific in your queries
4. **Add Meaningful Tags**: Tags help organize and filter your document collection
5. **Regular Re-Analysis**: Re-analyze documents if you update your AI models

## Security Considerations

Remember that the documents you upload may contain sensitive information. The PenTest Command Center stores these documents locally in your data directory. Take appropriate measures to secure this data, such as:

1. Using disk encryption
2. Limiting access to the system running PenTest Command Center
3. Regularly deleting sensitive documents when they are no longer needed
4. Not enabling public share access to the Gradio interface 